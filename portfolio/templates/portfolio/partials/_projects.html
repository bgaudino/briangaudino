{% include "portfolio/partials/_title.html" with title="Projects" %}
<section id="projects">
  <hgroup>
    <h2>Projects</h2>
    <div>{{ filter_form }}</div>
  </hgroup>
  <div id="project_list">
    <div class="grid">
      {% for project in projects %}
        {% firstof project.url project.repository_url as primary_url %}
        <article>
          <h3>
            {% if primary_url %}
              <a class="code-wrapper" href="{{ primary_url }}" target="_blank"><strong>{{ project.name }}</strong></a>
            {% else %}
              <strong>{{ project.name }}</strong>
            {% endif %}
          </h3>
          {% if project.image %}
            <figure>
              {% if primary_url %}
                <a href="{{ primary_url }}" target="_blank">
                  <img src="{{ project.image.url }}"
                       alt="{{ project.name }} image"
                       height="auto"
                       width="100%">
                </a>
              {% else %}
                <img src="{{ project.image.url }}"
                     alt="{{ project.name }} image"
                     height="auto"
                     width="100%">
              </figure>
            {% endif %}
          {% endif %}
          <div class="body">
            <p>{{ project.description }}</p>
            {% if project.tech_stack %}
              <div class="tech-stack">
                {% for tech in project.tech_stack.all %}
                  <span data-tooltip="{{ tech.name }}">
                    <i class="{{ tech.icon }}" aria-label="{{ tech.name }}"></i>
                  </span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
          <div class="actions">
            {% if project.url %}
              <a class="small" role="button" href="{{ project.url }}" target="_blank">Project
                <i class="fa-solid fa-external-link-alt"></i>
              </a>
            {% endif %}
            {% if project.repository_url %}
              <a class="small"
                 role="button"
                 href="{{ project.repository_url }}"
                 target="_blank">Code <i class="fa-brands fa-github"></i></a>
            {% endif %}
          </div>
        </article>
      {% empty %}
        <p>No projects found.</p>
      {% endfor %}
    </div>
  </div>
</section>
